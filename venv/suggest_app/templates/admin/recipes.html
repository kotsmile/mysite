{% extends "admin_base.html" %}

{% block content %}
	

    <form action="" method="post">
        {{ form.hidden_tag() }}
        <p>
            {{ form.link.label }}<br>
            {{ form.link(size=32) }}<br>
            {% for error in form.link.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.recipe_type.label }}<br>
            {{ form.recipe_type }}<br>
            {% for error in form.recipe_type.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        
        <p>{{ form.submit() }}</p>
    </form>

	<a href="{{ url_for('admin_recipes_update') }}">Обновить меню на день</a> | 
	<span style="color: {{ color }};">{{ update }}</span>
	<br>
	<table class="tg">
	  <tr>
	    <th class="tg-fymr">Код</th>
	    <th class="tg-fymr">Название</th>
	    <th class="tg-fymr">Время</th>
	    <th class="tg-fymr">Прием пищи</th>
	    <th class="tg-fymr">Калории, ккал</th>
	    <th class="tg-fymr">Белки, г</th>
	    <th class="tg-fymr">Жиры, г</th>
	    <th class="tg-fymr">Углеводы, г</th>
	    <th class="tg-fymr">Удалить</th>
	  </tr>
	  {% for r in recipes %}
		  <tr>
		    <td class="tg-c3ow">{{ r.code }}</td>
		    <td class="tg-c3ow"><a href="{{ r.link }}">{{ r.name }}</a></td>
		    <td class="tg-c3ow">{{ r.time }}</td>
		    <td class="tg-c3ow">{{ r.recipe_type.name }}</td>
		    <td class="tg-c3ow">{{ r.calories }}</td>
		    <td class="tg-c3ow">{{ r.protein }}</td>
		    <td class="tg-c3ow">{{ r.fat }}</td>
		    <td class="tg-c3ow">{{ r.corb }}</td>

		    <td class="tg-c3ow"><a href="{{ '/admin/delete_recipes/' + r.code|string + '&' + r.recipe_type.abr }}">X</a></td>
		  </tr>

	  {% endfor %}
	</table>
	

{% endblock %}