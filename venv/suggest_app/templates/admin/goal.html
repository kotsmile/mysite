{% extends "admin_base.html" %}


{% block content %}
	<form action="" method="post">
        {{ form.hidden_tag() }}
        <p>
            {{ form.name.label }}<br>
            {{ form.name(size=32) }}<br>
            {% for error in form.name.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.abr.label }}<br>
            {{ form.abr(size=32) }}<br>
            {% for error in form.abr.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.percent.label }}<br>
            {{ form.percent(size=32) }}<br>
            {% for error in form.percent.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.protein.label }}<br>
            {{ form.protein(size=32) }}<br>
            {% for error in form.protein.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.fat.label }}<br>
            {{ form.fat(size=32) }}<br>
            {% for error in form.fat.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.corb.label }}<br>
            {{ form.corb(size=32) }}<br>
            {% for error in form.corb.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>

        <p>
            {{ form.breakfast.label }}<br>
            {{ form.breakfast(size=32) }}<br>
            {% for error in form.breakfast.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>

        <p>
            {{ form.lunch.label }}<br>
            {{ form.lunch(size=32) }}<br>
            {% for error in form.lunch.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>

        <p>
            {{ form.dinner.label }}<br>
            {{ form.dinner(size=32) }}<br>
            {% for error in form.dinner.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>


        <p>{{ form.submit() }}</p>
    </form>

	<table class="tg">
	  <tr>
	    <th>Название</th>
	    <th>Аббравиатура</th>
	    <th>Процент от нормы, %</th>
	    <th>Процент белков, %</th>
	    <th>Процент жиров, %</th>
	    <th>Процент углеводов, %</th>
        <th>Процент КБЖУ на завтрак, %</th>
        <th>Процент КБЖУ на обед, %</th>
        <th>Процент КБЖУ на ужин, %</th>
	    <th>Удалить</th>
	  </tr>
	  {% for g in goals %}
		  <tr>
		    <td>{{ g.name }}</td>
		    <td>{{ g.abr }}</td>
		    <td>{{ (g.percent * 100)|round|int }}</td>
		    <td>{{ g.pfc[0] * 100 }}</td>
		    <td>{{ g.pfc[1] * 100 }}</td>
		    <td>{{ g.pfc[2] * 100 }}</td>

            <td>{{ g.for_types['breakfast'] * 100 }}</td>
            <td>{{ g.for_types['lunch'] * 100 }}</td>
            <td>{{ g.for_types['dinner'] * 100 }}</td>

		    <td><a href="{{ '/admin/delete_goal/' + g.abr }}">X</a></td>
		  </tr>

	  {% endfor %}
	</table>


{% endblock %}
